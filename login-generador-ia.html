<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador de Contenido IA /// GlyphCode</title>
    <meta name="description" content="Accede a la suite de herramientas del Generador de Contenido IA. Potencia tu creaci√≥n de contenido con inteligencia artificial.">
    
    <!-- ‚ñº‚ñº‚ñº CAMBIO: Ruta absoluta para el favicon ‚ñº‚ñº‚ñº -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg"> 
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@700&family=Space+Grotesk:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- ‚ñº‚ñº‚ñº CAMBIO: Ruta absoluta para el CSS. Funciona en todas partes. ‚ñº‚ñº‚ñº -->
    <link rel="stylesheet" href="/style.css">

</head>
<body>

<header class="login-page-header">
    <div class="container login-header-container">
        <!-- ‚ñº‚ñº‚ñº CAMBIO: Ruta absoluta para el enlace de inicio ‚ñº‚ñº‚ñº -->
        <a href="/index.html" class="logo-link" aria-label="GlyphCode Home">
            <svg class="logo-svg" width="200" height="40" viewBox="0 0 200 40" xmlns="http://www.w3.org/2000/svg"><text x="0" y="30" class="logo-text">GlyphCode</text></svg>
        </a>
        
        <div class="header-actions-buttons">
            <button id="login-btn" class="btn-secondary-transparent">Acceder</button>
            <button id="signup-btn" class="btn btn-primary">Registrarse Gratis</button>
        </div>
    </div>
</header>

<main class="landing-content">
    <!-- El contenido del main se mantiene igual -->
    <section class="container">
        <h1 class="page-title">Generador de Contenido IA</h1>
        <p class="page-subtitle">Desbloquea el poder de la inteligencia artificial para crear contenido √∫nico, optimizado y atractivo en segundos. Automatiza tu flujo de trabajo y lleva tu estrategia de contenido al siguiente nivel.</p>
    </section>
    <section class="feature-section container">
        <h2 class="section-title"><span>//</span> Funcionalidades Clave</h2>
        <div class="feature-grid">
            <div class="feature-item"><div class="feature-item-icon">‚úçÔ∏è</div><h3>Redactor de Art√≠culos</h3><p>Genera art√≠culos completos y bien estructurados sobre cualquier tema. Ideal para blogs y contenido de formato largo.</p></div>
            <div class="feature-item"><div class="feature-item-icon">üí°</div><h3>Ideas de T√≠tulos para Post</h3><p>Crea t√≠tulos magn√©ticos y optimizados para SEO que capturan la atenci√≥n y aumentan los clics en tus art√≠culos.</p></div>
            <div class="feature-item"><div class="feature-item-icon">üîç</div><h3>Metadescripci√≥n SEO</h3><p>Elabora metadescripciones persuasivas para tus p√°ginas que mejoran tu ranking en los motores de b√∫squeda.</p></div>
            <div class="feature-item"><div class="feature-item-icon">üîë</div><h3>Ideas de Palabras Clave</h3><p>Descubre palabras clave relevantes y de baja competencia para orientar tu contenido y dominar tu nicho.</p></div>
            <div class="feature-item"><div class="feature-item-icon">üì±</div><h3>Texto para Anuncios</h3><p>Genera copys de alto impacto para tus campa√±as en redes sociales (Facebook, Instagram, etc.) que impulsan la conversi√≥n.</p></div>
            <div class="feature-item"><div class="feature-item-icon">üé¨</div><h3>Guion de Video</h3><p>Estructura y escribe guiones de video (para YouTube, TikTok, Reels) que mantienen a tu audiencia enganchada hasta el final.</p></div>
        </div>
    </section>
</main>

<footer class="main-footer">
    <div class="container">
        <div class="footer-bottom">
            <p>¬© 2025 GlyphCode. Todos los derechos reservados.</p>
            <nav class="footer-legal-nav">
                <!-- ‚ñº‚ñº‚ñº CAMBIO: Rutas absolutas para los enlaces legales ‚ñº‚ñº‚ñº -->
                <a href="/politica-privacidad.html">Pol√≠tica de Privacidad</a>
                <a href="/politica-cookies.html">Pol√≠tica de Cookies</a>
                <a href="/terminos-condiciones.html">T√©rminos y Condiciones</a>
            </nav>
        </div>
    </div>
</footer>

<div id="auth-modal" class="modal-overlay hidden">
    <!-- El modal se mantiene igual -->
    <div class="modal-content">
        <button id="modal-close" class="modal-close">√ó</button>
        <h2 id="modal-title"></h2>
        <form id="modal-form" class="contact-form">
            <div class="form-group"><label for="modal-email">Correo Electr√≥nico:</label><input type="email" id="modal-email" name="email" required></div>
            <div class="form-group"><label for="modal-password" id="password-label">Contrase√±a:</label><input type="password" id="modal-password" name="clave_acceso" required></div>
            <button type="submit" id="modal-submit-btn" class="btn btn-primary btn-full-width"></button>
        </form>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // Definiciones de elementos del DOM
    const modal = document.getElementById('auth-modal');
    const modalOverlay = document.querySelector('.modal-overlay');
    const modalCloseBtn = document.getElementById('modal-close');
    const modalTitle = document.getElementById('modal-title');
    const modalForm = document.getElementById('modal-form');
    const modalSubmitBtn = document.getElementById('modal-submit-btn');
    const passwordLabel = document.getElementById('password-label');
    const loginHeaderBtn = document.getElementById('login-btn');
    const signupHeaderBtn = document.getElementById('signup-btn');
    
    let currentMode = 'signup'; 

    const openModal = (mode) => {
        currentMode = mode;
        modalForm.reset(); 
        if (mode === 'login') {
            modalTitle.textContent = 'Acceder a tu Cuenta';
            passwordLabel.textContent = 'Contrase√±a:';
            modalSubmitBtn.textContent = 'Acceder';
        } else {
            modalTitle.textContent = 'Crear Cuenta Nueva';
            passwordLabel.textContent = 'Nueva Contrase√±a:';
            modalSubmitBtn.textContent = 'Registrarse';
        }
        modal.classList.remove('hidden');
    };

    const closeModal = () => modal.classList.add('hidden');

    modalForm.addEventListener('submit', async (event) => {
        event.preventDefault();
        const originalButtonText = modalSubmitBtn.textContent;
        modalSubmitBtn.textContent = 'ENVIANDO...';
        modalSubmitBtn.disabled = true;

        const email = document.getElementById('modal-email').value;
        const password = document.getElementById('modal-password').value;
        
        const isLogin = currentMode === 'login';
        
        // ‚ñº‚ñº‚ñº CAMBIO CR√çTICO: RUTA ABSOLUTA Y SIN EXTENSI√ìN .JS ‚ñº‚ñº‚ñº
        const endpoint = isLogin ? '/api/login' : '/api/register';

        try {
            const response = await fetch(endpoint, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ email, clave_acceso: password }),
            });

            // Si la respuesta no es OK, lanzamos un error para que lo capture el 'catch'
            if (!response.ok) {
                const errorData = await response.json().catch(() => ({ message: `Error del servidor: ${response.status}` }));
                throw new Error(errorData.message);
            }

            const data = await response.json();

            if (isLogin) {
                // ‚ñº‚ñº‚ñº CAMBIO CR√çTICO: RUTA ABSOLUTA PARA REDIRECCI√ìN ‚ñº‚ñº‚ñº
                window.location.href = "/dashboard-ia.html";
            } else {
                alert('¬°Registro completado con √©xito! Ahora puedes acceder con tus datos.');
                openModal('login'); 
            }

        } catch (error) {
            console.error(`Error en ${currentMode}:`, error);
            alert(`Hubo un problema: ${error.message}`); 
        } finally {
            modalSubmitBtn.textContent = originalButtonText;
            modalSubmitBtn.disabled = false;
        }
    });

    // Listeners para abrir el modal
    loginHeaderBtn.addEventListener('click', () => openModal('login'));
    signupHeaderBtn.addEventListener('click', () => openModal('signup'));
    
    // Listeners para cerrar el modal
    modalCloseBtn.addEventListener('click', closeModal);
    modalOverlay.addEventListener('click', (event) => {
        if (event.target === modalOverlay) closeModal();
    });
    document.addEventListener('keydown', (event) => {
        if (event.key === 'Escape' && !modal.classList.contains('hidden')) closeModal();
    });
});
</script>

</body>
</html>